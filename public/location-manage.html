<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>UEA Parking Management System :: Location Management</title>
    <link rel="stylesheet" href="edit.css">
    <script src="https://kit.fontawesome.com/cab31170e8.js" crossorigin="anonymous"></script>
    <script src="toggle.js"></script>
    <script src="auth.js"></script>
    <script src="location-manage.js"></script>
</head>
<body>

<div id="wrapper">

    <header>
        <button class="header-button" onclick="toggleLanguageDropdown()">
            <img src="images/england.jpg" alt="English Flag">
        </button>
        <div id="language-dropdown" class="dropdown hidden">
            <button onclick="changeLanguage('en')">
                <img src="images/england.jpg" alt="English Flag"> English
            </button>
            <button onclick="changeLanguage('fr')">
                <img src="images/france.png" alt="French Flag"> Français
            </button>
            <button onclick="changeLanguage('cn')">
                <img src="images/china.png" alt="Chinese Flag"> Chinese
            </button>
        </div>

        <a href="a-main.html"><img id="parkuealogo" src="./Images/logo.png"></a>
        <button class="header-button" onclick="document.location='contact.html'">Contact Us</button>
    </header>

    <nav id="topnav">
        <div class="nav-container">
            <div class="dropdown-icon" onclick="toggleDropdown()">
                <i class="fas fa-bars"></i>
            </div>
            <div class="active-page">Location Management</div>
            <ul class="topnav">
                <ul><a href="main.html" class="nav-link">Home Page</a></ul>
                <ul><a href="parking.html" class="nav-link">Parking</a></ul>
                <ul><a href="account.html" class="nav-link">Account Management</a></ul>
                <ul><a href="vManage.html" class="nav-link">Vehicle Management</a></ul>
                <ul><a href="notif.html" class="nav-link">Notifications</a></ul>
            </ul>
        </div>
    </nav>

    <main class="main">
        <h2 id="location-manage-title">LOCATION MANAGEMENT</h2>
        <div id="location-management-section">
            <div class="location-map-container">
                <object type="image/svg+xml" data="parking-map.svg" id="admin-map"></object>
            </div>

            <div class="location-control-panel">
                <div class="location-selection">
                    <h3>Select Car Park</h3>
                    <div class="selected-location-info">
                        <div class="payment-form-group">
                            <label id="paymentlabel">Parking Location:</label>
                            <select id="location-select" required>
                                <option value="" disabled selected>Select location</option>
                                <!-- dynamically loaded -->
                            </select>
                        </div>
                        <span id="selected-location-status" class="status-open">Status: Open</span>
                    </div>
                </div>

                <div class="location-settings">
                    <h3>Advanced Settings</h3>
                    <div class="settings-form">
                        <div class="form-group">
                            <label for="event-name">Event Name (if applicable)</label>
                            <input type="text" id="event-name" placeholder="Enter event name">
                        </div>
                        <div class="form-group">
                            <label for="closure-reason">Closure Reason</label>
                            <select id="closure-reason">
                                <option value="">Select reason</option>
                                <option value="maintenance">Maintenance</option>
                                <option value="event">Special Event</option>
                                <option value="weather">Weather Conditions</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="closure-notes">Additional Notes</label>
                            <textarea id="closure-notes" rows="3" placeholder="Enter any additional information"></textarea>
                        </div>
                    </div>
                </div>

                <div class="location-actions">
                    <h3>Management Actions</h3>
                    <div class="action-buttons">
                        <button class="action-btn" id="close-location">
                            <i class="fas fa-lock"></i> Close Entire Car Park
                        </button>
                        <button class="action-btn" id="event-only">
                            <i class="fas fa-ticket-alt"></i> Event Access Only
                        </button>
                        <button class="action-btn" id="open-location">
                            <i class="fas fa-lock-open"></i> Reopen Car Park
                        </button>
                        <button class="action-btn" id="maintenance-mode">
                            <i class="fas fa-tools"></i> Maintenance Mode
                        </button>
                    </div>
                </div>

                <div class="location-spaces-management">
                    <h3>Spaces Management</h3>
                    <div class="spaces-form">
                        <div class="form-group">
                            <label for="spaces-to-add">Spaces to Add</label>
                            <input type="number" id="spaces-to-add" min="0" placeholder="Number of spaces to add">
                        </div>
                        <div class="form-group">
                            <label for="spaces-to-remove">Spaces to Remove</label>
                            <input type="number" id="spaces-to-remove" min="0" placeholder="Number of spaces to remove">
                        </div>
                        <button class="action-btn" id="update-spaces">
                            <i class="fas fa-parking"></i> Update Spaces
                        </button>
                    </div>
                </div>

                <div class="new-location-form">
                    <h3>Add New Parking Location</h3>
                    <div class="form-group">
                        <label for="new-location-name">Location Name</label>
                        <input type="text" id="new-location-name" placeholder="Enter location name">
                    </div>
                    <div class="form-group">
                        <label for="new-location-code">Location Code (4 digits)</label>
                        <input type="text" id="new-location-code" maxlength="4" placeholder="1234">
                    </div>
                    <div class="form-group">
                        <label for="new-location-spaces">Initial Spaces</label>
                        <input type="number" id="new-location-spaces" min="1" value="50">
                    </div>
                    <div class="form-group">
                        <label for="new-location-rate">Hourly Rate (£)</label>
                        <input type="number" id="new-location-rate" min="0.5" step="0.1" value="2.5">
                    </div>
                    <button class="action-btn" id="add-location">
                        <i class="fas fa-plus-circle"></i> Add New Location
                    </button>
                </div>

                <section id="admin-controls">
                    <div class="admin-actions">
                        <button id="refresh-btn" class="admin-button">
                            <i class="fas fa-sync-alt"></i> Refresh Status
                        </button>
                        <button id="save-changes-btn" class="admin-button primary">
                            <i class="fas fa-save"></i> Save Changes
                        </button>
                    </div>
                </section>
            </div>
        </div>

        <section id="location-status-overview">
            <h2>CURRENT STATUS OVERVIEW</h2>
            <div class="status-table-container">
                <table class="status-table">
                    <thead>
                    <tr>
                        <th>Car Park</th>
                        <th>Status</th>
                        <th>Capacity</th>
                        <th>Current Occupancy</th>
                        <th>Restrictions</th>
                        <th>Last Updated</th>
                        <th>Actions</th>
                    </tr>
                    </thead>
                    <tbody id="status-table-body">
                       <!-- dynamically loaded -->
                    </tbody>
                </table>
            </div>
        </section>
    </main>

    <footer>
        <div class="text-left">
            <p>Contact US:<br>07345678910<br>Parking@vea.ac.uk</p>
        </div>
        <div class="text-center">
            <div class="logo-footer">
                <img src="images/ueaWhite.png" alt="UEA Logo" width=240.75 height=50.68>
            </div>
        </div>
        <div class="text-right">
            <p>University of East Anglia<br>Norwich research park<br>NR4 7TJ</p>
        </div>
    </footer>

</div>

</body>
</html>